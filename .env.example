# ============================================
# Knowledge Base RAG Backend - Environment Configuration
# ============================================
# FILL IN YOUR API KEYS BELOW!
# ============================================

# ==================================
# Application Settings
# ==================================
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO
SECRET_KEY=change-this-to-a-random-32-character-string-in-production

# ==================================
# Server Settings
# ==================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ==================================
# CORS Settings
# ==================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

# ==================================
# API Keys - REQUIRED (FILL THESE IN!)
# ==================================

# OpenAI API Key (Required for PageIndex and LLM)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Pinecone API Key (Required for Vector Storage)
# Get from: https://app.pinecone.io/
PINECONE_API_KEY=your-pinecone-api-key-here

# Google API Key (Required for LangExtract PII Detection)
# Get from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your-google-api-key-here

# ==================================
# Pinecone Configuration
# ==================================
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=knowledge-base
PINECONE_NAMESPACE=default

# ==================================
# Redis Configuration
# ==================================
# For local development:
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# For Docker Compose (uncomment these):
# REDIS_URL=redis://redis:6379/0
# CELERY_BROKER_URL=redis://redis:6379/1
# CELERY_RESULT_BACKEND=redis://redis:6379/2

# ==================================
# File Upload Settings
# ==================================
MAX_UPLOAD_SIZE_MB=50
UPLOAD_DIR=/app/uploads
ALLOWED_FILE_TYPES=pdf,docx,pptx,xlsx,txt,md,html,png,jpg,jpeg

# ==================================
# Model Configuration
# ==================================

# Embedding Model Options:
# - sentence-transformers/all-MiniLM-L6-v2 (384 dim, fast)
# - sentence-transformers/all-mpnet-base-v2 (768 dim, better quality)
# - BAAI/bge-small-en-v1.5 (384 dim, good quality)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# LLM Model for RAG (gpt-4o, gpt-4o-mini, gpt-4-turbo)
LLM_MODEL=gpt-4o-mini

# LangExtract Model for PII Detection (gemini-2.5-flash, gemini-2.5-pro)
LANGEXTRACT_MODEL=gemini-2.5-flash

# ==================================
# RAG Configuration
# ==================================
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_RESULTS=5
SIMILARITY_THRESHOLD=0.7

# PageIndex Settings
PAGEINDEX_MAX_PAGES_PER_NODE=10
PAGEINDEX_MAX_TOKENS_PER_NODE=20000

# ==================================
# PII Protection Settings
# ==================================
PII_DETECTION_ENABLED=true
PII_CATEGORIES=password,api_key,credit_card,ssn,email,phone

# ==================================
# Security Settings
# ==================================
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
RATE_LIMIT_REQUESTS=100

# ==================================
# Cache Settings
# ==================================
CACHE_TTL_SECONDS=3600
EMBEDDING_CACHE_ENABLED=true

# ==================================
# Monitoring (Optional)
# ==================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change-this-in-production

# ==================================
# Docker Compose Ports
# ==================================
API_PORT=8000
REDIS_PORT=6379