# ============================================
# Knowledge Base RAG Backend - Requirements
# Compatible with Python 3.12 and 3.13
# ============================================

# ==================================
# Core Web Framework
# ==================================
fastapi>=0.115.0,<1.0.0
uvicorn[standard]>=0.32.0,<1.0.0
python-multipart>=0.0.12,<1.0.0
pydantic>=2.9.0,<3.0.0
pydantic-settings>=2.6.0,<3.0.0
starlette>=0.41.0,<1.0.0

# ==================================
# Document Processing - Docling
# ==================================
docling>=2.70.0,<3.0.0

# ==================================
# PageIndex for Reasoning-based RAG
# NOTE: Install PageIndex separately with:
# pip install git+https://github.com/VectifyAI/PageIndex.git
# ==================================
openai>=1.55.0,<2.0.0
tiktoken>=0.8.0,<1.0.0
PyMuPDF>=1.25.0,<2.0.0
pdf2image>=1.17.0,<2.0.0
pytesseract>=0.3.13,<1.0.0

# ==================================
# LangExtract for PII Protection
# ==================================
langextract>=1.1.0,<2.0.0
google-generativeai>=0.8.0,<1.0.0

# ==================================
# Vector Database - Pinecone
# ==================================
pinecone>=5.4.0,<6.0.0

# ==================================
# Embeddings & LLM
# ==================================
sentence-transformers>=3.3.0,<4.0.0
transformers>=4.46.0,<5.0.0
torch>=2.5.0,<3.0.0
tokenizers>=0.20.0,<1.0.0

# ==================================
# Async & HTTP
# ==================================
httpx>=0.28.0,<1.0.0
aiofiles>=24.1.0,<25.0.0
python-dotenv>=1.0.1,<2.0.0
anyio>=4.6.0,<5.0.0

# ==================================
# Data Processing
# ==================================
pandas>=2.2.0,<3.0.0
numpy>=2.0.0,<3.0.0

# ==================================
# File Handling
# ==================================
Pillow>=11.0.0,<12.0.0
python-magic>=0.4.27,<1.0.0
filetype>=1.2.0,<2.0.0

# ==================================
# Caching & Background Tasks
# ==================================
redis>=5.2.0,<6.0.0
celery>=5.4.0,<6.0.0

# ==================================
# Logging & Monitoring
# ==================================
structlog>=24.4.0,<25.0.0
prometheus-client>=0.21.0,<1.0.0

# ==================================
# Security
# ==================================
python-jose[cryptography]>=3.3.0,<4.0.0
passlib[bcrypt]>=1.7.4,<2.0.0
cryptography>=43.0.0,<44.0.0

# ==================================
# Utilities
# ==================================
tenacity>=9.0.0,<10.0.0
orjson>=3.10.0,<4.0.0
python-dateutil>=2.9.0,<3.0.0

# ==================================
# Testing (Development)
# ==================================
pytest>=8.3.0,<9.0.0
pytest-asyncio>=0.24.0,<1.0.0
pytest-cov>=6.0.0,<7.0.0

# ==================================
# Code Quality (Development)
# ==================================
black>=24.10.0,<25.0.0
isort>=5.13.0,<6.0.0
mypy>=1.13.0,<2.0.0
ruff>=0.7.0,<1.0.0